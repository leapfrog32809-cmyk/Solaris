<!DOCTYPE html> 
<html lang="en"> 
<head> 
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> 
<title>Solar System Explorer</title> 
<style> 
/* NEBULA/GALAXY THEME */
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; } 
body { 
    background: 
        radial-gradient(circle at 20% 30%, rgba(88, 24, 69, 0.8) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(26, 32, 85, 0.9) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(46, 17, 67, 0.7) 0%, transparent 50%),
        radial-gradient(circle at 60% 20%, rgba(18, 52, 86, 0.8) 0%, transparent 50%),
        linear-gradient(135deg, #0a0e17 0%, #1a1b3a 50%, #2d1b69 100%);
    color: white; 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
    overflow: hidden; 
    height: 100vh; 
    width: 100vw; 
} 
.hidden { display: none !important; } 

/* UNIVERSE */ 
#universe { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    z-index: 1; 
    background: 
        radial-gradient(circle at 20% 30%, rgba(187, 77, 255, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(77, 142, 255, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(255, 77, 166, 0.15) 0%, transparent 50%);
} 
.star { 
    position: absolute; 
    background: white; 
    border-radius: 50%; 
    animation: twinkle 3s infinite alternate; 
} 
@keyframes twinkle { 
    0% { opacity: 0.3; transform: scale(1); } 
    100% { opacity: 0.9; transform: scale(1.2); } 
} 

/* CARD-BASED INTRODUCTION */
#cardIntro {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 14, 23, 0.95);
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.card-container {
    width: 100%;
    max-width: 900px;
    height: 80vh;
    perspective: 1000px;
}

.card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    background: rgba(26, 32, 85, 0.9);
    border-radius: 20px;
    padding: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow: 
        0 0 40px rgba(187, 77, 255, 0.3),
        0 0 80px rgba(77, 142, 255, 0.2),
        inset 0 0 30px rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.card-back {
    transform: rotateY(180deg);
}

.card-content {
    text-align: center;
    width: 100%;
    max-width: 700px;
}

.card-title {
    font-size: 2.8rem;
    background: linear-gradient(135deg, #ff6b9d, #4d8eff, #bb4dff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 20px;
    text-shadow: 0 0 20px rgba(187, 77, 255, 0.3);
    font-weight: 800;
}

.card-subtitle {
    font-size: 1.8rem;
    color: #a8e6cf;
    margin-bottom: 10px;
    text-shadow: 0 0 10px rgba(168, 230, 207, 0.3);
}

/* RECTANGULAR IMAGE CONTAINER - FIXED: NO MORE MOVING */
.card-image-container {
    width: 100%;
    max-width: 700px;
    height: 350px;
    margin: 25px auto;
    border-radius: 15px;
    overflow: hidden;
    position: relative;
    box-shadow: 
        0 0 40px rgba(187, 77, 255, 0.4),
        0 0 60px rgba(77, 142, 255, 0.3);
    border: 3px solid rgba(255, 255, 255, 0.2);
    /* REMOVED the float animation to stop pictures from moving */
}

.card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.card-image:hover {
    transform: scale(1.05);
}

/* REMOVED the @keyframes float animation */

.card-description {
    font-size: 1.2rem;
    line-height: 1.6;
    color: #d1e8ff;
    margin-bottom: 30px;
    background: rgba(0, 0, 0, 0.3);
    padding: 20px;
    border-radius: 15px;
    border-left: 4px solid #bb4dff;
}

.card-facts {
    background: rgba(187, 77, 255, 0.1);
    padding: 20px;
    border-radius: 15px;
    margin: 20px 0;
    text-align: left;
    border: 1px solid rgba(187, 77, 255, 0.3);
}

.card-facts h4 {
    color: #ff6b9d;
    margin-bottom: 10px;
    font-size: 1.3rem;
}

.card-facts ul {
    list-style: none;
    padding-left: 0;
}

.card-facts li {
    padding: 8px 0;
    color: #d1e8ff;
    border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
}

.card-facts li:last-child {
    border-bottom: none;
}

.card-facts strong {
    color: #4d8eff;
}

/* NAVIGATION BUTTONS */
.card-nav {
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin-top: 30px;
    gap: 20px;
}

.nav-btn {
    padding: 12px 30px;
    background: linear-gradient(135deg, #bb4dff, #4d8eff);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: bold;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 5px 15px rgba(187, 77, 255, 0.3);
}

.nav-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(187, 77, 255, 0.4);
}

.nav-btn:active {
    transform: translateY(-1px);
}

.nav-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
}

.nav-btn.next {
    background: linear-gradient(135deg, #4d8eff, #ff6b9d);
}

.nav-btn.prev {
    background: linear-gradient(135deg, #6a67ce, #9477e6);
}

.card-number {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(187, 77, 255, 0.2);
    color: #a8e6cf;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.9rem;
    border: 1px solid rgba(187, 77, 255, 0.3);
}

/* SOLAR SYSTEM VIEW - ZOOMED IN */
#solarSystemView {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10;
    transform: scale(1.1); /* ZOOMED IN */
    transform-origin: center;
}

.solar-system-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 15;
}

/* SUN IN SOLAR SYSTEM */
.sun {
    width: 90px; /* Larger */
    height: 90px; /* Larger */
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #FFD700 0%, #FF8C00 30%, #FF4500 60%, #8B0000 90%);
    background-image: url('Picture/sun.jpg'); /* CHANGED: No "1" after sun */
    background-size: cover;
    background-position: center;
    box-shadow: 
        0 0 60px 25px rgba(255, 215, 0, 0.7),
        0 0 120px 50px rgba(255, 165, 0, 0.5),
        0 0 180px 75px rgba(255, 69, 0, 0.3);
    cursor: pointer;
    animation: sunPulse 4s infinite alternate;
    position: relative;
    overflow: hidden;
}

.sun::after {
    content: 'Click to Begin';
    position: absolute;
    bottom: -45px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 13px;
    color: #FFD700;
    white-space: nowrap;
    animation: fadeInOut 2s infinite;
    background: rgba(0, 0, 0, 0.7);
    padding: 6px 12px;
    border-radius: 10px;
    border: 1px solid rgba(255, 215, 0, 0.3);
}

@keyframes sunPulse {
    0% { transform: scale(1); box-shadow: 0 0 50px 20px rgba(255, 215, 0, 0.7); }
    100% { transform: scale(1.1); box-shadow: 0 0 60px 25px rgba(255, 215, 0, 0.8); }
}

@keyframes fadeInOut {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* ORBIT PATHS - NEBULA STYLE */
.orbit-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    border: 1px solid rgba(187, 77, 255, 0.15);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 
        inset 0 0 10px rgba(187, 77, 255, 0.1),
        0 0 20px rgba(187, 77, 255, 0.05);
}

/* PLANET ORBIT CONTAINERS */
.planet-orbit {
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: center;
}

.planet {
    position: absolute;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    z-index: 10;
    background-size: cover;
    background-position: center;
}

.planet:hover {
    transform: translate(-50%, -50%) scale(1.5);
    z-index: 100 !important;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
}

/* PLANET SIZES WITH TEXTURES - LARGER FOR ZOOM - UPDATED TEXTURES WITHOUT "1" */
.planet.mercury { width: 12px; height: 12px; background-color: #A9A9A9; background-image: url('Picture/mercury.jpg'); } 
.planet.venus { width: 18px; height: 18px; background-color: #FFA500; background-image: url('Picture/venus.jpg'); } 
.planet.earth { width: 20px; height: 20px; background-color: #1E90FF; background-image: url('Picture/earth.jpg'); } 
.planet.mars { width: 16px; height: 16px; background-color: #FF4500; background-image: url('Picture/mars.jpg'); } 
.planet.jupiter { width: 45px; height: 45px; background-color: #FFD580; background-image: url('Picture/jupiter.jpg'); } 
.planet.saturn { width: 40px; height: 40px; background-color: #F0E68C; background-image: url('Picture/saturn.jpg'); } 
.planet.uranus { width: 28px; height: 28px; background-color: #AFEEEE; background-image: url('Picture/uranus.jpg'); } 
.planet.neptune { width: 25px; height: 25px; background-color: #4169E1; background-image: url('Picture/neptune.jpg'); }

/* SATURN RINGS */
.saturn-rings {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(20deg);
    width: 65px; /* Larger */
    height: 7px; /* Larger */
    background: radial-gradient(circle at center, transparent 30%, rgba(240, 230, 140, 0.8) 35%, rgba(218, 165, 32, 0.6) 45%, transparent 55%);
    border-radius: 50%;
    z-index: -1;
}

/* PLANET LABELS */
.planet-label {
    position: absolute;
    top: -25px; /* Adjusted for larger planets */
    left: 50%;
    transform: translateX(-50%);
    font-size: 11px; /* Larger */
    color: #a8e6cf;
    background: rgba(26, 32, 85, 0.9);
    padding: 4px 10px;
    border-radius: 10px;
    opacity: 0;
    transition: opacity 0.3s;
    white-space: nowrap;
    pointer-events: none;
    border: 1px solid rgba(168, 230, 207, 0.3);
    box-shadow: 0 0 10px rgba(168, 230, 207, 0.2);
}

.planet:hover .planet-label {
    opacity: 1;
}

/* INTRO COUNTDOWN SCREEN */
#introScreen { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(10, 14, 23, 0.95); 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    z-index: 1000; 
    padding: 20px; 
} 
.countdown-container { 
    text-align: center; 
    padding: 40px; 
    background: rgba(26, 32, 85, 0.9); 
    border-radius: 25px; 
    box-shadow: 
        0 0 50px rgba(187, 77, 255, 0.4),
        0 0 100px rgba(77, 142, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.2); 
    max-width: 500px; 
    width: 100%; 
    animation: scaleIn 0.5s ease-out;
}

@keyframes scaleIn {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

#countdownTimer { 
    font-size: 5rem; 
    background: linear-gradient(135deg, #ff6b9d, #4d8eff, #bb4dff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin: 20px 0; 
    text-shadow: 0 0 20px rgba(187, 77, 255, 0.3); 
    animation: countdownPulse 1s infinite; 
} 
@keyframes countdownPulse { 
    0%, 100% { transform: scale(1); } 
    50% { transform: scale(1.05); } 
} 

/* EXPLORATION VIEW - SIMPLIFIED PLANET DISPLAY */
#explorationView { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(10, 14, 23, 0.98); 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: space-between; 
    padding: 15px; 
    z-index: 1000; 
    overflow: hidden; 
} 
.exploration-header { 
    width: 100%; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 0 10px; 
    z-index: 100; 
    margin-bottom: 10px; 
} 
.progress-tracker { 
    font-size: 0.9rem; 
    color: #a8e6cf; 
    background: rgba(26, 32, 85, 0.9); 
    padding: 8px 15px; 
    border-radius: 20px; 
    border: 1px solid rgba(168, 230, 207, 0.3);
} 
.restart-btn { 
    background: linear-gradient(135deg, #bb4dff, #4d8eff); 
    color: white; 
    border: none; 
    padding: 8px 16px; 
    border-radius: 20px; 
    cursor: pointer; 
    font-weight: bold; 
    font-size: 0.85rem; 
    transition: all 0.3s; 
    box-shadow: 0 4px 10px rgba(187, 77, 255, 0.3);
} 
.restart-btn:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 6px 15px rgba(187, 77, 255, 0.4);
} 

/* SOUND CONTROLS */
.sound-controls { 
    position: absolute; 
    top: 15px; 
    right: 70px; 
    z-index: 1000; 
} 
.sound-btn { 
    background: rgba(26, 32, 85, 0.9); 
    border: 1px solid rgba(187, 77, 255, 0.3); 
    color: white; 
    border-radius: 50%; 
    width: 40px; 
    height: 40px; 
    cursor: pointer; 
    font-size: 1.2rem; 
    transition: all 0.3s; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    box-shadow: 0 0 10px rgba(187, 77, 255, 0.2);
} 
.sound-btn:hover { 
    background: rgba(187, 77, 255, 0.3); 
    transform: scale(1.1); 
} 

/* MAIN CONTENT AREA - SIMPLIFIED WITHOUT ORBIT */
.main-content { 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    width: 100%; 
    height: calc(100% - 100px); 
    overflow: hidden; 
} 

/* PLANET VISUAL - JUST THE PLANET (NO ORBIT) */
.planet-visual {
    width: 280px;
    height: 280px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 20px 0;
    position: relative;
}

.planet-display {
    width: 220px;
    height: 220px;
    border-radius: 50%;
    background-size: cover;
    background-position: center;
    box-shadow: 
        0 0 40px rgba(255, 255, 255, 0.4),
        0 0 80px rgba(187, 77, 255, 0.4),
        0 0 120px rgba(77, 142, 255, 0.3);
    /* CHANGED: Rotating wheel-like animation instead of floating */
    animation: planetWheel 20s linear infinite;
    border: 4px solid rgba(255, 255, 255, 0.2);
    transform-style: preserve-3d;
}

/* NEW: 3D Wheel-like rotation animation */
@keyframes planetWheel {
    0% { transform: rotateY(0deg) rotateX(15deg); }
    100% { transform: rotateY(360deg) rotateX(15deg); }
}

/* Planet info - nebula style */
.planet-info { 
    max-width: 500px; 
    width: 100%; 
    background: rgba(26, 32, 85, 0.9); 
    padding: 20px; 
    border-radius: 20px; 
    border: 1px solid rgba(187, 77, 255, 0.3); 
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.3),
        0 0 30px rgba(187, 77, 255, 0.2);
    max-height: 250px; 
    overflow-y: auto; 
    margin-bottom: 10px; 
} 

.planet-info::-webkit-scrollbar { 
    width: 8px; 
} 

.planet-info::-webkit-scrollbar-track { 
    background: rgba(26, 32, 85, 0.5); 
    border-radius: 10px; 
} 

.planet-info::-webkit-scrollbar-thumb { 
    background: linear-gradient(135deg, #bb4dff, #4d8eff); 
    border-radius: 10px; 
} 

.planet-name { 
    font-size: 2.2rem; 
    background: linear-gradient(135deg, #ff6b9d, #4d8eff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 15px; 
    text-align: center; 
    text-shadow: 0 0 15px rgba(187, 77, 255, 0.3); 
} 

.question-container { 
    background: rgba(0, 0, 0, 0.4); 
    padding: 15px; 
    border-radius: 15px; 
    margin: 15px 0; 
    border-left: 4px solid #bb4dff;
} 

.question { 
    font-size: 1.1rem; 
    margin-bottom: 15px; 
    color: #f0f8ff; 
    line-height: 1.4; 
} 

.answer-buttons { 
    display: flex; 
    gap: 15px; 
    margin-bottom: 15px; 
} 

.answer-btn { 
    flex: 1; 
    padding: 12px; 
    border: none; 
    border-radius: 10px; 
    cursor: pointer; 
    font-size: 1rem; 
    font-weight: bold; 
    transition: all 0.3s; 
    min-height: 45px; 
} 

.true-btn { 
    background: linear-gradient(135deg, #4CAF50, #2E7D32); 
    color: white; 
    box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
} 

.false-btn { 
    background: linear-gradient(135deg, #f44336, #c62828); 
    color: white; 
    box-shadow: 0 4px 10px rgba(244, 67, 54, 0.3);
} 

.answer-btn:hover:not(:disabled) { 
    transform: translateY(-3px); 
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3); 
} 

.answer-btn:disabled { 
    opacity: 0.6; 
    cursor: not-allowed; 
    transform: none !important; 
} 

.feedback { 
    padding: 12px; 
    border-radius: 10px; 
    margin: 10px 0; 
    display: none; 
    animation: slideIn 0.5s; 
    font-size: 0.9rem; 
} 

@keyframes slideIn { 
    from { opacity: 0; transform: translateY(-10px); } 
    to { opacity: 1; transform: translateY(0); } 
} 

.feedback.correct { 
    background: rgba(76, 175, 80, 0.2); 
    border-left: 4px solid #4CAF50; 
    color: #a5d6a7; 
} 

.feedback.incorrect { 
    background: rgba(244, 67, 54, 0.2); 
    border-left: 4px solid #f44336; 
    color: #ffab91; 
} 

.fun-fact { 
    padding: 12px; 
    background: rgba(187, 77, 255, 0.15); 
    border-radius: 10px; 
    margin: 10px 0; 
    border-left: 4px solid #bb4dff; 
    display: none; 
    animation: slideIn 0.5s 0.2s both; 
    font-size: 0.9rem; 
} 

.fact-explanation { 
    padding: 12px; 
    background: rgba(77, 142, 255, 0.15); 
    border-radius: 10px; 
    margin: 10px 0; 
    border-left: 4px solid #4d8eff; 
    display: none; 
    animation: slideIn 0.5s 0.4s both; 
    font-size: 0.9rem; 
} 

/* NAVIGATION - FIXED AT BOTTOM */
.navigation { 
    display: flex; 
    justify-content: space-between; 
    width: 100%; 
    max-width: 500px; 
    padding: 15px 0; 
    position: absolute; 
    bottom: 15px; 
} 

.nav-btn-explore { 
    padding: 12px 25px; 
    background: linear-gradient(135deg, #bb4dff, #4d8eff); 
    color: white; 
    border: none; 
    border-radius: 50px; 
    cursor: pointer; 
    font-size: 1rem; 
    font-weight: bold; 
    transition: all 0.3s; 
    min-height: 45px; 
    flex: 1; 
    margin: 0 5px; 
    box-shadow: 0 5px 15px rgba(187, 77, 255, 0.3);
} 

.nav-btn-explore:hover:not(:disabled) { 
    transform: translateY(-3px); 
    box-shadow: 0 8px 20px rgba(187, 77, 255, 0.4); 
} 

.nav-btn-explore:disabled { 
    opacity: 0.5; 
    cursor: not-allowed; 
    transform: none !important; 
} 

/* COMPLETION SCREEN */
#completionScreen { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(10, 14, 23, 0.98); 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    z-index: 1000; 
    padding: 20px; 
} 

.completion-content { 
    text-align: center; 
    padding: 30px; 
    background: rgba(26, 32, 85, 0.9); 
    border-radius: 25px; 
    max-width: 500px; 
    width: 100%; 
    box-shadow: 
        0 0 50px rgba(187, 77, 255, 0.4),
        0 0 100px rgba(77, 142, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.2); 
} 

.completion-title { 
    font-size: 2.5rem; 
    background: linear-gradient(135deg, #ff6b9d, #4d8eff, #bb4dff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 20px; 
    text-shadow: 0 0 20px rgba(187, 77, 255, 0.3); 
} 

.score-display { 
    font-size: 1.5rem; 
    margin: 20px 0; 
    padding: 15px; 
    background: rgba(77, 142, 255, 0.2); 
    border-radius: 15px; 
    border: 2px solid rgba(77, 142, 255, 0.3); 
} 

.completion-btn { 
    padding: 12px 35px; 
    background: linear-gradient(135deg, #bb4dff, #4d8eff); 
    color: white; 
    border: none; 
    border-radius: 50px; 
    cursor: pointer; 
    font-size: 1.1rem; 
    font-weight: bold; 
    margin-top: 20px; 
    transition: all 0.3s; 
    box-shadow: 0 5px 15px rgba(187, 77, 255, 0.3);
} 

.completion-btn:hover { 
    transform: translateY(-3px); 
    box-shadow: 0 8px 20px rgba(187, 77, 255, 0.4); 
} 

/* RESPONSIVE */
@media (max-width: 768px) { 
    .card-container { height: 85vh; }
    .card-title { font-size: 2.2rem; }
    .card-image-container { height: 280px; max-width: 600px; }
    .card-description { font-size: 1.1rem; padding: 15px; }
    #solarSystemView { transform: scale(1.0); } /* Adjusted for mobile */
    .sun { width: 80px; height: 80px; } 
    .planet-info { max-height: 230px; padding: 15px; } 
    .planet-visual { width: 250px; height: 250px; } 
    .planet-display { width: 180px; height: 180px; }
    .navigation { max-width: 450px; padding: 12px 0; } 
    .sound-btn { width: 35px; height: 35px; font-size: 1.1rem; } 
    .sound-controls { right: 60px; } 
} 

@media (max-width: 480px) { 
    .card-container { height: 90vh; padding: 10px; }
    .card { padding: 15px; }
    .card-title { font-size: 1.8rem; }
    .card-image-container { height: 220px; }
    .card-description { font-size: 1rem; padding: 12px; }
    .card-nav { flex-direction: column; }
    .nav-btn { width: 100%; }
    #solarSystemView { transform: scale(0.9); } 
    .sun::after { font-size: 11px; bottom: -35px; } 
    #countdownTimer { font-size: 4rem; } 
    .planet-info { max-height: 220px; padding: 12px; } 
    .answer-buttons { flex-direction: column; } 
    .navigation { flex-direction: column; gap: 10px; max-width: 320px; } 
    .nav-btn-explore { width: 100%; margin: 0; } 
    .planet-visual { width: 220px; height: 220px; } 
    .planet-display { width: 160px; height: 160px; }
    .sound-controls { right: 50px; } 
} 

/* LANDSCAPE MODE */
@media (orientation: landscape) and (max-height: 600px) { 
    #explorationView { flex-direction: row; padding: 10px; } 
    .exploration-header { position: absolute; top: 10px; left: 0; width: 100%; padding: 0 10px; } 
    .main-content { flex-direction: row; justify-content: space-around; height: calc(100% - 70px); margin-top: 50px; } 
    .planet-visual { width: 200px; height: 200px; margin: 0; } 
    .planet-display { width: 150px; height: 150px; }
    .planet-info { max-height: 220px; margin-bottom: 0; flex: 1; max-width: 60%; } 
    .navigation { position: absolute; bottom: 10px; width: calc(100% - 20px); } 
    .card-container { height: 90vh; }
    .card-title { font-size: 1.8rem; }
    .card-image-container { height: 200px; margin: 15px auto; }
} 
</style> 
</head> 
<body> 
    <!-- Universe Background --> 
    <div id="universe"></div> 

    <!-- Card-Based Introduction --> 
    <div id="cardIntro"> 
        <div class="card-container">
            <div class="card">
                <div class="card-front">
                    <div class="card-number">1/13</div>
                    <div class="card-content">
                        <h1 class="card-title">Welcome to Space</h1>
                        <div class="card-image-container">
                            <!-- CHANGED BACK: Using nebula1.jpg for introduction cards -->
                            <img src="Picture/nebula1.jpg" alt="Nebula" class="card-image">
                        </div>
                        <p class="card-description">
                            Welcome to an interactive journey through our cosmic neighborhood! 
                            Explore the wonders of our solar system, from the blazing Sun to the distant dwarf planets.
                            Get ready to learn fascinating facts about each celestial body.
                        </p>
                        <div class="card-facts">
                            <h4>Quick Facts:</h4>
                            <ul>
                                <li><strong>Age:</strong> 4.6 billion years</li>
                                <li><strong>Planets:</strong> 8 major planets</li>
                                <li><strong>Dwarf Planets:</strong> 5 recognized</li>
                                <li><strong>Distance from Sun:</strong> 4.5 billion km across</li>
                            </ul>
                        </div>
                        <div class="card-nav">
                            <button class="nav-btn prev" disabled>‚Üê Previous</button>
                            <button class="nav-btn next">Next ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 

    <!-- Solar System View --> 
    <div id="solarSystemView" class="hidden"> 
        <!-- Sun at Center --> 
        <div class="solar-system-center"> 
            <div class="sun" id="sun"></div> 
        </div> 

        <!-- Orbit Rings --> 
        <div class="orbit-ring" style="width: 90px; height: 90px;"></div> 
        <div class="orbit-ring" style="width: 120px; height: 120px;"></div> 
        <div class="orbit-ring" style="width: 150px; height: 150px;"></div> 
        <div class="orbit-ring" style="width: 180px; height: 180px;"></div> 
        <div class="orbit-ring" style="width: 240px; height: 240px;"></div> 
        <div class="orbit-ring" style="width: 290px; height: 290px;"></div> 
        <div class="orbit-ring" style="width: 340px; height: 340px;"></div> 
        <div class="orbit-ring" style="width: 390px; height: 390px;"></div> 

        <!-- Planets --> 
        <div class="planet-orbit" id="mercuryOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet mercury"> 
                <div class="planet-label">Mercury</div> 
            </div> 
        </div> 
        <div class="planet-orbit" id="venusOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet venus"> 
                <div class="planet-label">Venus</div> 
            </div> 
        </div> 
        <div class="planet-orbit" id="earthOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet earth"> 
                <div class="planet-label">Earth</div> 
            </div> 
        </div> 
        <div class="planet-orbit" id="marsOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet mars"> 
                <div class="planet-label">Mars</div> 
            </div> 
        </div> 
        <div class="planet-orbit" id="jupiterOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet jupiter"> 
                <div class="planet-label">Jupiter</div> 
            </div> 
        </div> 
        <div class="planet-orbit" id="saturnOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet saturn"> 
                <div class="saturn-rings"></div> 
                <div class="planet-label">Saturn</div> 
            </div> 
        </div> 
<div class="planet-orbit" id="uranusOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet uranus"> 
                <div class="planet-label">Uranus</div> 
            </div> 
        </div> 
        <div class="planet-orbit" id="neptuneOrbit" style="transform: translate(0px, 0px);"> 
            <div class="planet neptune"> 
                <div class="planet-label">Neptune</div> 
            </div> 
        </div> 
    </div> 

    <!-- Intro Countdown --> 
    <div id="introScreen" class="hidden"> 
        <div class="countdown-container"> 
            <h2>Ready?</h2>
            <div id="countdownTimer">10</div> 
            <p>Test your knowledge about our solar system!</p>
        </div> 
    </div> 

    <!-- Planet Exploration --> 
    <div id="explorationView" class="hidden"> 
        <div class="exploration-header"> 
            <div class="progress-tracker" id="progressTracker">Planet 1 of 8</div> 
            <button class="restart-btn" id="restartBtn">Restart</button> 
        </div>
        
        <!-- Sound Controls -->
        <div class="sound-controls">
            <button class="sound-btn" id="muteBtn">üîä</button>
        </div>
        
        <div class="main-content"> 
            <div class="planet-visual"> 
                <div class="planet-display" id="planetDisplay"></div>
            </div> 
            <div class="planet-info"> 
                <h2 class="planet-name" id="planetName">Mercury</h2> 
                <div class="question-container"> 
                    <h3>‚ùì Question</h3> 
                    <p class="question" id="planetQuestion"></p> 
                    <div class="answer-buttons"> 
                        <button class="answer-btn true-btn" id="trueBtn">True</button> 
                        <button class="answer-btn false-btn" id="falseBtn">False</button> 
                    </div> 
                    <div class="feedback" id="feedback"></div> 
                    <div class="fact-explanation" id="factExplanation"></div> 
                    <div class="fun-fact" id="funFact"></div> 
                </div> 
            </div> 
        </div> 
        <div class="navigation"> 
            <button class="nav-btn-explore" id="prevPlanetBtn" disabled>‚Üê Previous</button> 
            <button class="nav-btn-explore" id="nextPlanetBtn" disabled>Next ‚Üí</button> 
        </div> 
    </div> 

    <!-- Completion Screen --> 
    <div id="completionScreen" class="hidden"> 
        <div class="completion-content"> 
            <h1 class="completion-title">üéâ Well Done! üéâ</h1> 
            <div class="score-display" id="scoreDisplay">You scored 0/8</div> 
            <p>Great job exploring our solar system! You've learned about all 8 planets.<br> Keep your curiosity alive and continue exploring the wonders of space!</p> 
            <button class="completion-btn" id="finalRestartBtn">Explore Again</button> 
        </div> 
    </div> 

    <!-- Audio Elements -->
    <audio id="backgroundMusic" loop>
        <source src="sounds/dream.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="correctSound">
        <source src="sounds/correct.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="incorrectSound">
        <source src="sounds/incorrect.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="clickSound">
        <source src="sounds/click.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

<script> 
// PLANET DATA - UPDATED WITH PICTURE FOLDER PATHS WITH "1" (for question textures)
const planets = [
{
    name: "Mercury",
    color: "#A9A9A9",
    texture: "Picture/mercury1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Mercury is the hottest planet in our solar system.",
    correctAnswer: false,
    explanation: "Despite being closest to the Sun, Venus is actually hotter due to its thick carbon dioxide atmosphere that traps heat.",
    fact: "Mercury's thin atmosphere can't retain heat, so temperatures range from -173¬∞C at night to 427¬∞C during the day.",
    funFact: "üìå Mercury has ice in permanently shadowed craters at its poles!"
},
{
    name: "Venus",
    color: "#FFA500",
    texture: "Picture/venus1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "A day on Venus is longer than a year on Venus.",
    correctAnswer: true,
    explanation: "Venus rotates extremely slowly - one Venus day (243 Earth days) takes longer than its year (225 Earth days).",
    fact: "Venus rotates in the opposite direction to most planets, so the Sun rises in the west and sets in the east.",
    funFact: "üìå Venus is often called Earth's 'sister planet' because they're similar in size!"
},
{
    name: "Earth",
    color: "#1E90FF",
    texture: "Picture/earth1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Earth is the only planet with liquid water on its surface.",
    correctAnswer: true,
    explanation: "Earth is the only known planet with stable bodies of liquid water on its surface, essential for life as we know it.",
    fact: "About 71% of Earth's surface is covered by water, earning it the nickname 'the Blue Planet'.",
    funFact: "üìå Earth's atmosphere protects us from most meteoroids - they burn up before hitting the ground!"
},
{
    name: "Mars",
    color: "#FF4500",
    texture: "Picture/mars1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Mars is called the Red Planet because of rust (iron oxide) on its surface.",
    correctAnswer: true,
    explanation: "The iron minerals in Martian soil have oxidized (rusted), giving the planet its distinctive reddish color.",
    fact: "Mars has the largest volcano in the solar system - Olympus Mons, which is nearly 3 times taller than Mount Everest.",
    funFact: "üìå Mars has the largest volcano in the solar system - Olympus Mons!"
},
{
    name: "Jupiter",
    color: "#FFD580",
    texture: "Picture/jupiter1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Jupiter's Great Red Spot is a storm that could fit three Earths inside it.",
    correctAnswer: true,
    explanation: "The Great Red Spot is a gigantic storm that has been raging for at least 400 years and is large enough to swallow Earth three times over.",
    fact: "Jupiter's massive size gives it the strongest gravity of all planets, influencing the orbits of other solar system objects.",
    funFact: "üìå Jupiter has 79 known moons - the most of any planet!"
},
{
    name: "Saturn",
    color: "#F0E68C",
    texture: "Picture/saturn1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Saturn is the only planet with rings.",
    correctAnswer: false,
    explanation: "While Saturn's rings are the most prominent, Jupiter, Uranus, and Neptune also have ring systems, though they're fainter.",
    fact: "Saturn's rings are made mostly of ice particles with some rocky debris and dust, ranging from tiny grains to boulder-sized chunks.",
    funFact: "üìå Saturn would float in water - it's less dense than water!"
},
{
    name: "Uranus",
    color: "#AFEEEE",
    texture: "Picture/uranus1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Uranus rotates on its side, almost like it's rolling around the Sun.",
    correctAnswer: true,
    explanation: "Uranus has an extreme axial tilt of 98 degrees, meaning it essentially rolls around the Sun rather than spinning upright.",
    fact: "This unusual tilt gives Uranus extreme seasons - each pole gets about 42 years of continuous sunlight followed by 42 years of darkness.",
    funFact: "üìå Uranus was the first planet discovered with a telescope!"
},
{
    name: "Neptune",
    color: "#4169E1",
    texture: "Picture/neptune1.jpg", // CHANGED: Added "1" for question textures
    size: 220,
    question: "Neptune is the windiest planet in our solar system.",
    correctAnswer: true,
    explanation: "Neptune has the strongest winds in the solar system, reaching speeds of up to 2,100 km/h (1,300 mph).",
    fact: "Despite being farther from the Sun than Uranus, Neptune radiates more heat than it receives, possibly due to internal heat left from its formation.",
    funFact: "üìå Neptune was discovered through mathematics before it was seen through a telescope!"
}
];

// CARD-BASED INTRODUCTION DATA WITH PICTURE FOLDER - ALL WITH "1" FOR INTRODUCTION
const introductionCards = [
    {
        id: 1,
        title: "Welcome to Space",
        image: "Picture/nebula1.jpg", // FIXED: Using "1" for introduction
        description: "Welcome to an interactive journey through our cosmic neighborhood! Explore the wonders of our solar system, from the blazing Sun to the distant dwarf planets. Get ready to learn fascinating facts about each celestial body.",
        facts: [
            "Age: 4.6 billion years",
            "Planets: 8 major planets",
            "Dwarf Planets: 5 recognized",
            "Distance from Sun: 4.5 billion km across"
        ]
    },
    {
        id: 2,
        title: "The Sun",
        image: "Picture/sun1.jpg", // FIXED: Using "1" for introduction
        description: "Our solar system's central star and powerhouse. The Sun contains 99.86% of the mass in our solar system and provides the energy that makes life possible on Earth.",
        facts: [
            "Type: Yellow dwarf star",
            "Temperature: 15 million¬∞C (core)",
            "Age: 4.6 billion years",
            "Composition: 74% hydrogen, 24% helium"
        ]
    },
    {
        id: 3,
        title: "Mercury",
        image: "Picture/mercury1.jpg", // FIXED: Using "1" for introduction
        description: "The smallest planet and closest to the Sun. Mercury has no atmosphere to retain heat, so temperatures swing dramatically between day and night.",
        facts: [
            "Distance from Sun: 58 million km",
            "Day Temperature: Up to 427¬∞C",
            "Night Temperature: Down to -173¬∞C",
            "Year Length: 88 Earth days"
        ]
    },
    {
        id: 4,
        title: "Venus",
        image: "Picture/venus1.jpg", // FIXED: Using "1" for introduction
        description: "Earth's 'twin' in size, but with a toxic atmosphere and extreme greenhouse effect. Venus is the hottest planet despite being second from the Sun.",
        facts: [
            "Surface Temperature: 462¬∞C",
            "Atmosphere: 96% carbon dioxide",
            "Rotation: 243 Earth days (longer than its year)",
            "Direction: Rotates backwards (retrograde)"
        ]
    },
    {
        id: 5,
        title: "Earth",
        image: "Picture/earth1.jpg", // FIXED: Using "1" for introduction
        description: "Our home planet, the only world known to support life. Earth has liquid water, oxygen-rich atmosphere, and protective magnetic field.",
        facts: [
            "Water Coverage: 71% of surface",
            "Atmosphere: 78% nitrogen, 21% oxygen",
            "Moon: 1 natural satellite",
            "Magnetic Field: Protects from solar radiation"
        ]
    },
    {
        id: 6,
        title: "Mars",
        image: "Picture/mars1.jpg", // FIXED: Using "1" for introduction
        description: "The Red Planet, named for its iron oxide (rust) surface. Mars has polar ice caps, the largest volcano, and evidence of ancient water flows.",
        facts: [
            "Color: Red from iron oxide",
            "Moons: Phobos and Deimos",
            "Volcano: Olympus Mons (largest in solar system)",
            "Possibility: Potential for past microbial life"
        ]
    },
    {
        id: 7,
        title: "Jupiter",
        image: "Picture/jupiter1.jpg", // FIXED: Using "1" for introduction
        description: "The largest planet - a gas giant with powerful storms and 79 known moons. Jupiter's Great Red Spot is a storm larger than Earth.",
        facts: [
            "Size: 11 times Earth's diameter",
            "Great Red Spot: Storm lasting 400+ years",
            "Moons: 79 known (most of any planet)",
            "Magnetic Field: 20,000 times stronger than Earth's"
        ]
    },
    {
        id: 8,
        title: "Saturn",
        image: "Picture/saturn1.jpg", // FIXED: Using "1" for introduction
        description: "Famous for its spectacular ring system made of ice and rock particles. Saturn is the least dense planet - it would float in water!",
        facts: [
            "Rings: Made of ice particles",
            "Density: Less than water",
            "Moons: 82 confirmed",
            "Wind Speed: Up to 1,800 km/h"
        ]
    },
    {
        id: 9,
        title: "Uranus",
        image: "Picture/uranus1.jpg", // FIXED: Using "1" for introduction
        description: "An ice giant that rotates on its side. Uranus has faint rings and rotates clockwise, opposite to most planets.",
        facts: [
            "Rotation: On its side (98¬∞ tilt)",
            "Color: Blue-green from methane",
            "Moons: 27 known",
            "Discovery: First planet found with telescope"
        ]
    },
    {
        id: 10,
        title: "Neptune",
        image: "Picture/neptune1.jpg", // FIXED: Using "1" for introduction
        description: "The windiest planet with supersonic winds. Neptune radiates more heat than it receives from the Sun.",
        facts: [
            "Wind Speed: Up to 2,100 km/h",
            "Color: Deep blue from methane",
            "Discovery: Found through mathematical prediction",
            "Moons: 14 known, including Triton"
        ]
    },
    {
        id: 11,
        title: "Asteroid Belt",
        image: "Picture/asteroidbelt.jpg", // CHANGED: Without "1" for asteroidbelt
        description: "Located between Mars and Jupiter, this region contains millions of rocky objects left over from solar system formation. The largest is Ceres, also a dwarf planet.",
        facts: [
            "Location: Between Mars and Jupiter",
            "Largest Object: Ceres (dwarf planet)",
            "Total Mass: 4% of Moon's mass",
            "Composition: Rock, metal, and some ice"
        ]
    },
    {
        id: 12,
        title: "Dwarf Planets",
        image: "Picture/dwarfplanets.jpg", // CHANGED: Without "1" for dwarfplanets
        description: "Small planetary bodies that orbit the Sun but haven't cleared their orbital path. Includes Pluto, Eris, Haumea, Makemake, and Ceres.",
        facts: [
            "Pluto: Has 5 moons",
            "Eris: Slightly larger than Pluto",
            "Ceres: Only dwarf planet in asteroid belt",
            "Haumea: Egg-shaped from fast rotation"
        ]
    },
    {
        id: 13,
        title: "Ready to Explore?",
        image: "Picture/sun1.jpg", // FIXED: Using "1" for introduction
        description: "Now that you've learned about our solar system, it's time to test your knowledge! Click the Sun in the next screen to begin an interactive quiz about each planet.",
        facts: [
            "Quiz: 8 questions (one per planet)",
            "Format: True/False questions",
            "Learn: Get detailed explanations",
            "Have fun exploring space!"
        ]
    }
];

// App State
let currentCardIndex = 0;
let currentPlanetIndex = 0;
let score = 0;
let orbitAngles = [0, 45, 90, 135, 180, 225, 270, 315];
let orbitSpeeds = [0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.15];
let orbitRadii = [45, 60, 75, 90, 120, 145, 170, 195];
let animationId = null;
let isMuted = false;

// DOM Elements
const cardIntro = document.getElementById('cardIntro');
const solarSystemView = document.getElementById('solarSystemView');
const introScreen = document.getElementById('introScreen');
const explorationView = document.getElementById('explorationView');
const completionScreen = document.getElementById('completionScreen');
const sun = document.getElementById('sun');
const universe = document.getElementById('universe');
const countdownTimer = document.getElementById('countdownTimer');
const progressTracker = document.getElementById('progressTracker');
const planetDisplay = document.getElementById('planetDisplay');
const planetName = document.getElementById('planetName');
const planetQuestion = document.getElementById('planetQuestion');
const trueBtn = document.getElementById('trueBtn');
const falseBtn = document.getElementById('falseBtn');
const feedback = document.getElementById('feedback');
const factExplanation = document.getElementById('factExplanation');
const funFact = document.getElementById('funFact');
const nextPlanetBtn = document.getElementById('nextPlanetBtn');
const prevPlanetBtn = document.getElementById('prevPlanetBtn');
const restartBtn = document.getElementById('restartBtn');
const finalRestartBtn = document.getElementById('finalRestartBtn');
const scoreDisplay = document.getElementById('scoreDisplay');
const muteBtn = document.getElementById('muteBtn');

// Card Elements
const cardContainer = document.querySelector('.card-container');
const card = document.querySelector('.card');
const cardNumber = document.querySelector('.card-number');
const cardTitle = document.querySelector('.card-title');
const cardImageContainer = document.querySelector('.card-image-container');
const cardImage = document.querySelector('.card-image');
const cardDescription = document.querySelector('.card-description');
const cardFacts = document.querySelector('.card-facts ul');
const prevBtn = document.querySelector('.nav-btn.prev');
const nextBtn = document.querySelector('.nav-btn.next');

// Audio Elements
const backgroundMusic = document.getElementById('backgroundMusic');
const correctSound = document.getElementById('correctSound');
const incorrectSound = document.getElementById('incorrectSound');
const clickSound = document.getElementById('clickSound');

// Sound Functions
function playSound(soundElement, volume = 0.5) {
    if (!isMuted) {
        soundElement.currentTime = 0;
        soundElement.volume = volume;
        soundElement.play().catch(e => {
            if (e.name !== 'AbortError') {
                console.log("Audio play failed:", e);
            }
        });
    }
}

function pauseSound(soundElement) {
    soundElement.pause();
}

function toggleMute() {
    isMuted = !isMuted;
    if (isMuted) {
        pauseSound(backgroundMusic);
        muteBtn.textContent = 'üîá';
        muteBtn.title = 'Unmute';
    } else {
        backgroundMusic.volume = 0.3;
        backgroundMusic.play().catch(e => {
            if (e.name !== 'AbortError') {
                console.log("Background music play failed:", e);
            }
        });
        muteBtn.textContent = 'üîä';
        muteBtn.title = 'Mute';
    }
}

// Initialize
function init() {
    createStarfield();
    setupEventListeners();
    startOrbitAnimation();
    loadCard(currentCardIndex);
    
    // Start background music quietly
    setTimeout(() => {
        if (!isMuted) {
            backgroundMusic.volume = 0.2;
            backgroundMusic.play().catch(e => {
                if (e.name !== 'AbortError') {
                    console.log("Background music play failed:", e);
                }
            });
        }
    }, 1000);
}

// Create starfield
function createStarfield() {
    for (let i = 0; i < 250; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        const x = Math.random() * 100;
        const y = Math.random() * 100;
        const size = Math.random() * 2 + 0.5;
        const delay = Math.random() * 3;
        const duration = Math.random() * 2 + 2;
        star.style.left = `${x}%`;
        star.style.top = `${y}%`;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.animationDelay = `${delay}s`;
        star.style.animationDuration = `${duration}s`;
        universe.appendChild(star);
    }
}

// Orbit Animation
function startOrbitAnimation() {
    function animate() {
        orbitAngles = orbitAngles.map((angle, index) => {
            return (angle + orbitSpeeds[index]) % 360;
        });

        const planetIds = ['mercury', 'venus', 'earth', 'mars', 'jupiter', 'saturn', 'uranus', 'neptune'];
        planetIds.forEach((planetId, index) => {
            const orbit = document.getElementById(`${planetId}Orbit`);
            if (orbit) {
                const radius = orbitRadii[index];
                const angleInRadians = orbitAngles[index] * Math.PI / 180;
                const x = Math.cos(angleInRadians) * radius;
                const y = Math.sin(angleInRadians) * radius;
                orbit.style.transform = `translate(${x}px, ${y}px)`;
            }
        });
        animationId = requestAnimationFrame(animate);
    }
    animate();
}

// Card Functions
function loadCard(index) {
    const cardData = introductionCards[index];
    
    // Update card content
    cardNumber.textContent = `${cardData.id}/${introductionCards.length}`;
    cardTitle.textContent = cardData.title;
    cardImage.src = cardData.image;
    cardImage.alt = cardData.title;
    cardDescription.textContent = cardData.description;
    
    // Update facts list
    cardFacts.innerHTML = '';
    cardData.facts.forEach(fact => {
        const li = document.createElement('li');
        li.textContent = fact;
        cardFacts.appendChild(li);
    });
    
    // Update button states
    prevBtn.disabled = index === 0;
    if (index === introductionCards.length - 1) {
        nextBtn.textContent = 'Start Quiz ‚Üí';
    } else {
        nextBtn.textContent = 'Next ‚Üí';
    }
    
    // Add flip animation on card change
    card.style.transform = 'rotateY(10deg)';
    setTimeout(() => {
        card.style.transform = 'rotateY(0deg)';
    }, 50);
}

function nextCard() {
    if (currentCardIndex < introductionCards.length - 1) {
        currentCardIndex++;
        loadCard(currentCardIndex);
        playSound(clickSound, 0.3);
    } else {
        // Last card - go to solar system
        goToSolarSystem();
    }
}

function prevCard() {
    if (currentCardIndex > 0) {
        currentCardIndex--;
        loadCard(currentCardIndex);
        playSound(clickSound, 0.3);
    }
}

function goToSolarSystem() {
    cardIntro.classList.add('hidden');
    solarSystemView.classList.remove('hidden');
    playSound(clickSound, 0.3);
    
    // Increase music volume
    if (!isMuted) {
        backgroundMusic.volume = 0.4;
    }
}

// Event Listeners
function setupEventListeners() {
    // Card navigation
    nextBtn.addEventListener('click', nextCard);
    prevBtn.addEventListener('click', prevCard);
    
    // Sun click
    sun.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        startCountdown();
    });
    
    // Quiz buttons
    trueBtn.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        handleAnswer(true);
    });
    
    falseBtn.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        handleAnswer(false);
    });
    
    nextPlanetBtn.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        goToNextPlanet();
    });
    
    prevPlanetBtn.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        goToPreviousPlanet();
    });
    
    restartBtn.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        restartExploration();
    });
    
    finalRestartBtn.addEventListener('click', () => {
        playSound(clickSound, 0.3);
        restartExploration();
    });
    
    muteBtn.addEventListener('click', () => {
        playSound(clickSound, 0.2);
        toggleMute();
    });

    // Keyboard support
    document.addEventListener('keydown', (e) => {
        if (e.code === 'ArrowRight' && !solarSystemView.classList.contains('hidden')) {
            nextCard();
        }
        if (e.code === 'ArrowLeft' && !solarSystemView.classList.contains('hidden')) {
            prevCard();
        }
        if (e.code === 'Space' && !explorationView.classList.contains('hidden')) {
            e.preventDefault();
            if (!nextPlanetBtn.disabled) nextPlanetBtn.click();
        }
        if (e.code === 'KeyT' && !explorationView.classList.contains('hidden')) {
            e.preventDefault();
            if (!trueBtn.disabled) trueBtn.click();
        }
        if (e.code === 'KeyF' && !explorationView.classList.contains('hidden')) {
            e.preventDefault();
            if (!falseBtn.disabled) falseBtn.click();
        }
        if (e.code === 'Escape') {
            restartExploration();
        }
        if (e.code === 'KeyM') {
            toggleMute();
        }
    });

    // Touch swipe for card navigation
    let touchStartX = 0;
    let touchStartY = 0;
    
    document.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
        touchStartY = e.touches[0].clientY;
    });

    document.addEventListener('touchend', (e) => {
        if (cardIntro.classList.contains('hidden')) return;
        
        const touchEndX = e.changedTouches[0].clientX;
        const touchEndY = e.changedTouches[0].clientY;
        const diffX = touchEndX - touchStartX;
        const diffY = Math.abs(touchEndY - touchStartY);
        
        // Only horizontal swipes with minimal vertical movement
        if (Math.abs(diffX) > 50 && diffY < 50) {
            if (diffX > 0 && !prevBtn.disabled) {
                prevCard();
            } else if (diffX < 0) {
                nextCard();
            }
        }
    });
}

// Start countdown
function startCountdown() {
    if (animationId) {
        cancelAnimationFrame(animationId);
    }
    
    solarSystemView.style.opacity = '0';
    setTimeout(() => {
        solarSystemView.classList.add('hidden');
        introScreen.classList.remove('hidden');
        let countdown = 10;
        countdownTimer.textContent = countdown;
        const timerInterval = setInterval(() => {
            countdown--;
            countdownTimer.textContent = countdown;
            if (countdown === 0) {
                clearInterval(timerInterval);
                introScreen.classList.add('hidden');
                startExploration();
            }
        }, 1000);
    }, 500);
}

// Start exploration
function startExploration() {
    explorationView.classList.remove('hidden');
    loadPlanet(currentPlanetIndex);
    
    // Increase background music volume for exploration
    if (!isMuted) {
        backgroundMusic.volume = 0.5;
    }
}

// Load planet data for quiz - SIMPLIFIED (just planet, no orbit)
function loadPlanet(index) {
    const planet = planets[index];

    // Update display with just the planet image (no orbit system)
    planetDisplay.style.backgroundImage = `url('${planet.texture}')`;
    planetDisplay.style.backgroundColor = planet.color;
    planetDisplay.style.backgroundSize = 'cover';
    planetDisplay.style.backgroundPosition = 'center';
    
    planetName.textContent = planet.name;
    planetQuestion.textContent = planet.question;

    // Reset UI
    feedback.style.display = 'none';
    feedback.className = 'feedback';
    factExplanation.style.display = 'none';
    funFact.style.display = 'none';
    trueBtn.disabled = false;
    falseBtn.disabled = false;
    nextPlanetBtn.disabled = true;

    // Update progress
    progressTracker.textContent = `Planet ${index + 1} of ${planets.length}`;

    // Update navigation
    prevPlanetBtn.disabled = index === 0;

    // Auto-scroll to top of content
    const planetInfo = document.querySelector('.planet-info');
    if (planetInfo) {
        planetInfo.scrollTop = 0;
    }
}

// Handle answer
function handleAnswer(userAnswer) {
    const planet = planets[currentPlanetIndex];
    const isCorrect = userAnswer === planet.correctAnswer;

    if (isCorrect) {
        score++;
        playSound(correctSound, 0.5);
    } else {
        playSound(incorrectSound, 0.5);
    }

    // Disable buttons
    trueBtn.disabled = true;
    falseBtn.disabled = true;

    // Show feedback
    feedback.textContent = isCorrect ? '‚úÖ Correct!' : '‚ùå Incorrect!';
    feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
    feedback.style.display = 'block';

    // Show fact explanation
    factExplanation.innerHTML = `<strong>Explanation:</strong> ${planet.explanation}`;
    factExplanation.style.display = 'block';

    // Show supporting fact
    const factDiv = document.createElement('div');
    factDiv.innerHTML = `<strong>Supporting Fact:</strong> ${planet.fact}`;
    factDiv.style.marginTop = '8px';
    factDiv.style.padding = '8px';
    factDiv.style.background = 'rgba(255,255,255,0.05)';
    factDiv.style.borderRadius = '4px';
    factExplanation.appendChild(factDiv);

    // Show fun fact
    funFact.innerHTML = planet.funFact;
    funFact.style.display = 'block';

    // Enable next button
    nextPlanetBtn.disabled = false;

    // Auto-scroll to show feedback
    const planetInfo = document.querySelector('.planet-info');
    if (planetInfo) {
        setTimeout(() => {
            planetInfo.scrollTop = planetInfo.scrollHeight;
        }, 100);
    }
}

// Navigation
function goToNextPlanet() {
    currentPlanetIndex++;
    if (currentPlanetIndex < planets.length) {
        loadPlanet(currentPlanetIndex);
    } else {
        showCompletionScreen();
    }
}

function goToPreviousPlanet() {
    if (currentPlanetIndex > 0) {
        currentPlanetIndex--;
        loadPlanet(currentPlanetIndex);
    }
}

// Show completion screen
function showCompletionScreen() {
    explorationView.classList.add('hidden');
    completionScreen.classList.remove('hidden');
    let message = '';
    if (score === planets.length) {
        message = `Perfect! ${score}/${planets.length} - You're a space expert! üöÄ`;
    } else if (score >= planets.length * 0.75) {
        message = `Excellent! ${score}/${planets.length} - Great job! üåü`;
    } else if (score >= planets.length * 0.5) {
        message = `Good work! ${score}/${planets.length} - Well done! üí´`;
    } else {
        message = `${score}/${planets.length} - Keep learning about space! üî≠`;
    }
    scoreDisplay.textContent = message;
    
    // Play completion sound if not muted
    if (!isMuted) {
        playSound(correctSound, 0.3);
    }
}

// Restart exploration
function restartExploration() {
    // Reset state
    currentCardIndex = 0;
    currentPlanetIndex = 0;
    score = 0;
    orbitAngles = [0, 45, 90, 135, 180, 225, 270, 315];

    // Reset UI
    completionScreen.classList.add('hidden');
    explorationView.classList.add('hidden');
    introScreen.classList.add('hidden');
    solarSystemView.classList.add('hidden');
    cardIntro.style.opacity = '1';
    cardIntro.classList.remove('hidden');

    // Restart animations
    if (animationId) {
        cancelAnimationFrame(animationId);
    }
    startOrbitAnimation();
    
    // Reload first card
    loadCard(currentCardIndex);
    
    // Reset music
    pauseSound(backgroundMusic);
    if (!isMuted) {
        setTimeout(() => {
            backgroundMusic.volume = 0.2;
            backgroundMusic.play().catch(e => {
                if (e.name !== 'AbortError') {
                    console.log("Background music play failed:", e);
                }
            });
        }, 500);
    }
}

// Initialize on load
window.addEventListener('load', init);

// Clean up
window.addEventListener('beforeunload', () => {
    if (animationId) {
        cancelAnimationFrame(animationId);
    }
});
</script> 
</body> 
</html>
